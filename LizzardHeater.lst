****** BUILD Of 'LizzardHeater' (14.06.2021 21:39:31)


****** EVENT HANDLERS
                                                                                                                                                             0:    0x0083   Address Priority 0 Event.   Code for 'Boot' starts at 131.
                                                                                                                                                             1:    0x00B5   Address Priority 1 Event.   Code for 'GetTempAndApplySchedule' starts at 181.
                                                                                                                                                             2:    0x01AE   Address Priority 2 Event.   Code for 'SubscriptionDelivery' starts at 430.
                                                                                                                                                             3:    0x0285   Address Priority 3 Event.   Code for 'PWMCicle' starts at 645.
                                                                                                                                                             4:    0x0000   Address Priority 4 Event.   No Event defined.
                                                                                                                                                             5:    0x0000   Address Priority 5 Event.   No Event defined.
                                                                                                                                                             6:    0x0000   Address Priority 6 Event.   No Event defined.
                                                                                                                                                             7:    0x0000   Address Priority 7 Event.   No Event defined.
                                                                                                                                                             8:    0x0000   Address Priority 8 Event.   No Event defined.
                                                                                                                                                             9:    0x0000   Address Priority 9 Event.   No Event defined.
                                                                                                                                                             10:   0x0000   Address Priority 10 Event.  No Event defined.
                                                                                                                                                             11:   0x0000   Address Priority 11 Event.  No Event defined.
                                                                                                                                                             12:   0x0000   Address Priority 12 Event.  No Event defined.
                                                                                                                                                             13:   0x0000   Address Priority 13 Event.  No Event defined.
                                                                                                                                                             14:   0x0000   Address Priority 14 Event.  No Event defined.
                                                                                                                                                             15:   0x0000   Address Priority 15 Event.  No Event defined.
                                                                                                                                                             16:   0x0000   Address Priority 16 Event.  No Event defined.
                                                                                                                                                             17:   0x0000   Address Priority 17 Event.  No Event defined.
                                                                                                                                                             18:   0x0000   Address Priority 18 Event.  No Event defined.
                                                                                                                                                             19:   0x0000   Address Priority 19 Event.  No Event defined.
                                                                                                                                                             20:   0x0000   Address Priority 20 Event.  No Event defined.
                                                                                                                                                             21:   0x0000   Address Priority 21 Event.  No Event defined.
                                                                                                                                                             22:   0x0000   Address Priority 22 Event.  No Event defined.
                                                                                                                                                             23:   0x0000   Address Priority 23 Event.  No Event defined.
                                                                                                                                                             24:   0x0000   Address Priority 24 Event.  No Event defined.
                                                                                                                                                             25:   0x0000   Address Priority 25 Event.  No Event defined.
                                                                                                                                                             26:   0x0000   Address Priority 26 Event.  No Event defined.
                                                                                                                                                             27:   0x0000   Address Priority 27 Event.  No Event defined.
                                                                                                                                                             28:   0x0000   Address Priority 28 Event.  No Event defined.
                                                                                                                                                             29:   0x0000   Address Priority 29 Event.  No Event defined.
                                                                                                                                                             30:   0x0000   Address Priority 30 Event.  No Event defined.
                                                                                                                                                             31:   0x0000   Address Priority 31 Event.  No Event defined.

****** RUNTIME INFORMATION
                                                                                                                                                             32:   0x02E6   ScriptSizeLS (Size of the code in 2-byte instructions = 742)
                                                                                                                                                             33:   0x0000   CodeSizeMS (Size of the code in 2-byte instructions = 742)
                                                                                                                                                             34:   0x000C   CodeSizeInBlocks = 12
                                                                                                                                                             35:   0x0003   StringSizeInBlocks = 3
                                                                                                                                                             36:   0x0000   Reserved
                                                                                                                                                             37:   0x0000   Reserved
                                                                                                                                                             38:   0x8913   Compile Date and Time 2021-06-14 21:39:31
                                                                                                                                                             39:   0x285A   Compile Date and Time 2021-06-14 21:39:31
                                                                                                                                                             40:   0x0000   Reserved
                                                                                                                                                             41:   0x0000   Reserved
                                                                                                                                                             42:   0x0000   Reserved
                                                                                                                                                             43:   0x0000   Reserved
                                                                                                                                                             44:   0x0000   Reserved
                                                                                                                                                             45:   0x0000   PinMode Pin0=NotUsed  Pin1=NotUsed
                                                                                                                                                             46:   0x0000   PinMode Pin2=NotUsed  Pin3=NotUsed
                                                                                                                                                             47:   0x0000   PinMode Pin4=NotUsed  Pin5=NotUsed
                                                                                                                                                             48:   0x0006   PinMode Pin6=DigitalOutput  Pin7=NotUsed
                                                                                                                                                             49:   0x0000   PinMode Pin8=NotUsed   Pin9=NotUsed
                                                                                                                                                             50:   0x0000   PinMode Pin10=NotUsed   Pin11=NotUsed
                                                                                                                                                             51:   0x0000   PinMode Pin12=NotUsed   Pin13=NotUsed
                                                                                                                                                             52:   0x0000   PinMode Pin14=NotUsed   Pin15=NotUsed
                                                                                                                                                             53:   0x0000   PinMode Pin16=NotUsed   Pin17=NotUsed
                                                                                                                                                             54:   0x0000   PinMode Pin18=NotUsed   Pin19=NotUsed
                                                                                                                                                             55:   0x0000   PinMode Pin20=NotUsed   Pin21=NotUsed
                                                                                                                                                             56:   0x0000   PinMode Pin22=NotUsed   Pin23=NotUsed
                                                                                                                                                             57:   0x0000   Reserved
                                                                                                                                                             58:   0x0000   Reserved
                                                                                                                                                             59:   0x0000   Reserved
                                                                                                                                                             60:   0x0000   Reserved
                                                                                                                                                             61:   0x1800   IdleThread EntryPoint ValTypParams=0, RefTypParams=0
                                                                                                                                                             62:   0x0015   SystemIdle
                                                                                                                                                             63:   0x5002   BranchBack 62

****** CLASS INFORMATION
                                                                                                                                                             64:   0x0049   Class Descriptor for class 'Global'. Next Descriptor at 73.
                                                                                                                                                             65:   0x0000   Base Class 'Object' Value represent a pointer if >= 64 (0x40) or ClassType if < 64 (0).
                                                                                                                                                             66:   0x0000   Offset of RefObject data.(0).
                                                                                                                                                             67:   0x0020   Size of RefObject data.(32).
                                                                                                                                                             68:   0x0048   Size of all data.(72).
                                                                                                                                                             69:   0x6C47   Part of the class name 'Global'.
                                                                                                                                                             70:   0x626F   Part of the class name 'Global'.
                                                                                                                                                             71:   0x6C61   Part of the class name 'Global'.
                                                                                                                                                             72:   0x0000   Part of the class name 'Global'.
                                                                                                                                                             73:   0x0055   Class Descriptor for class 'LizzardHeater'. Next Descriptor at 85.
                                                                                                                                                             74:   0x0000   Base Class 'Object' Value represent a pointer if >= 64 (0x40) or ClassType if < 64 (0).
                                                                                                                                                             75:   0x0000   Offset of RefObject data.(0).
                                                                                                                                                             76:   0x0000   Size of RefObject data.(0).
                                                                                                                                                             77:   0x0000   Size of all data.(0).
                                                                                                                                                             78:   0x694C   Part of the class name 'LizzardHeater'.
                                                                                                                                                             79:   0x7A7A   Part of the class name 'LizzardHeater'.
                                                                                                                                                             80:   0x7261   Part of the class name 'LizzardHeater'.
                                                                                                                                                             81:   0x4864   Part of the class name 'LizzardHeater'.
                                                                                                                                                             82:   0x6165   Part of the class name 'LizzardHeater'.
                                                                                                                                                             83:   0x6574   Part of the class name 'LizzardHeater'.
                                                                                                                                                             84:   0x0072   Part of the class name 'LizzardHeater'.
                                                                                                                                                             85:   0x005F   Class Descriptor for class 'Scheduler'. Next Descriptor at 95.
                                                                                                                                                             86:   0x0000   Base Class 'Object' Value represent a pointer if >= 64 (0x40) or ClassType if < 64 (0).
                                                                                                                                                             87:   0x0000   Offset of RefObject data.(0).
                                                                                                                                                             88:   0x0004   Size of RefObject data.(4).
                                                                                                                                                             89:   0x0004   Size of all data.(4).
                                                                                                                                                             90:   0x6353   Part of the class name 'Scheduler'.
                                                                                                                                                             91:   0x6568   Part of the class name 'Scheduler'.
                                                                                                                                                             92:   0x7564   Part of the class name 'Scheduler'.
                                                                                                                                                             93:   0x656C   Part of the class name 'Scheduler'.
                                                                                                                                                             94:   0x0072   Part of the class name 'Scheduler'.
                                                                                                                                                             95:   0x006B   Class Descriptor for class 'Subsriptions'. Next Descriptor at 107.
                                                                                                                                                             96:   0x0000   Base Class 'Object' Value represent a pointer if >= 64 (0x40) or ClassType if < 64 (0).
                                                                                                                                                             97:   0x0000   Offset of RefObject data.(0).
                                                                                                                                                             98:   0x0000   Size of RefObject data.(0).
                                                                                                                                                             99:   0x0000   Size of all data.(0).
                                                                                                                                                             100:  0x7553   Part of the class name 'Subsriptions'.
                                                                                                                                                             101:  0x7362   Part of the class name 'Subsriptions'.
                                                                                                                                                             102:  0x6972   Part of the class name 'Subsriptions'.
                                                                                                                                                             103:  0x7470   Part of the class name 'Subsriptions'.
                                                                                                                                                             104:  0x6F69   Part of the class name 'Subsriptions'.
                                                                                                                                                             105:  0x736E   Part of the class name 'Subsriptions'.
                                                                                                                                                             106:  0x0000   Part of the class name 'Subsriptions'.
                                                                                                                                                             107:  0x0073   Class Descriptor for class 'Heat'. Next Descriptor at 115.
                                                                                                                                                             108:  0x0000   Base Class 'Object' Value represent a pointer if >= 64 (0x40) or ClassType if < 64 (0).
                                                                                                                                                             109:  0x0000   Offset of RefObject data.(0).
                                                                                                                                                             110:  0x0000   Size of RefObject data.(0).
                                                                                                                                                             111:  0x0000   Size of all data.(0).
                                                                                                                                                             112:  0x6548   Part of the class name 'Heat'.
                                                                                                                                                             113:  0x7461   Part of the class name 'Heat'.
                                                                                                                                                             114:  0x0000   Part of the class name 'Heat'.
                                                                                                                                                             115:  0x007E   Class Descriptor for class 'TempSensor'. Next Descriptor at 126.
                                                                                                                                                             116:  0x0000   Base Class 'Object' Value represent a pointer if >= 64 (0x40) or ClassType if < 64 (0).
                                                                                                                                                             117:  0x0000   Offset of RefObject data.(0).
                                                                                                                                                             118:  0x0000   Size of RefObject data.(0).
                                                                                                                                                             119:  0x0000   Size of all data.(0).
                                                                                                                                                             120:  0x6554   Part of the class name 'TempSensor'.
                                                                                                                                                             121:  0x706D   Part of the class name 'TempSensor'.
                                                                                                                                                             122:  0x6553   Part of the class name 'TempSensor'.
                                                                                                                                                             123:  0x736E   Part of the class name 'TempSensor'.
                                                                                                                                                             124:  0x726F   Part of the class name 'TempSensor'.
                                                                                                                                                             125:  0x0000   Part of the class name 'TempSensor'.
                                                                                                                                                             126:  0x0000   End Of Class Data.

****** APPLIACTION STATEMENTS
*************************************************************************************************************

000002  Class LizzardHeater                                                                                                                                  127:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0

000003      Shared schedule As Scheduler
000004      Shared subscription As Subsriptions
000005      Shared heater As Heat
000006      
000007      Shared AmbientTemp As Integer
000008      Shared CurrentTemp As Integer
000009      Shared TargetTemp As Integer
000010      Shared AutoControl As Boolean
000011      
000012      //Init    
                                                                                                                                                             129:  0x0001                           EventType=Boot
                                                                                                                                                             130:  0x0700                           EventCategory=Interrupt
000013      Shared Event Boot()                                                                                                                              131:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0

000014          AutoControl = True                                                                                                                           132:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             133:  0x000C   PushGlobal              
                                                                                                                                                             134:  0xC82C   PopFieldU8              AutoControl

000015          TargetTemp = 35                                                                                                                              135:  0x8023   PushConstU10            35 (0x0023)
                                                                                                                                                             136:  0x000C   PushGlobal              
                                                                                                                                                             137:  0xD038   PopFieldI32             TargetTemp

000016          
000017          schedule = New Scheduler()                                                                                                                   138:  0x8055   PushConstU10            85 (0x0055)
                                                                                                                                                             139:  0x0010   ClassNew                
                                                                                                                                                             140:  0x1CAA   BranchSubr              311
                                                                                                                                                             141:  0x000C   PushGlobal              
                                                                                                                                                             142:  0xD400   PopFieldRef             schedule

000018          schedule.AddOnInterval(19, 24)                                                                                                               143:  0x8013   PushConstU10            19 (0x0013)
                                                                                                                                                             144:  0x8018   PushConstU10            24 (0x0018)
                                                                                                                                                             145:  0x000C   PushGlobal              
                                                                                                                                                             146:  0xC400   PushFieldRef            schedule
                                                                                                                                                             147:  0x1CA8   BranchSubr              316
                                                                                                                                                             148:  0xE420   FreeStackSpace          ValTypeSize=1, RefTypeSize=0

000019          schedule.AddOnInterval(0, 8)                                                                                                                 149:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             150:  0x8008   PushConstU10            8 (0x0008)
                                                                                                                                                             151:  0x000C   PushGlobal              
                                                                                                                                                             152:  0xC400   PushFieldRef            schedule
                                                                                                                                                             153:  0x1CA2   BranchSubr              316
                                                                                                                                                             154:  0xE420   FreeStackSpace          ValTypeSize=1, RefTypeSize=0

000020          
000021          subscription = New Subsriptions()                                                                                                            155:  0x805F   PushConstU10            95 (0x005F)
                                                                                                                                                             156:  0x0010   ClassNew                
                                                                                                                                                             157:  0x1CEE   BranchSubr              396
                                                                                                                                                             158:  0x000C   PushGlobal              
                                                                                                                                                             159:  0xD404   PopFieldRef             subscription

000022          subscription.Init()                                                                                                                          160:  0x000C   PushGlobal              
                                                                                                                                                             161:  0xC404   PushFieldRef            subscription
                                                                                                                                                             162:  0x1CEB   BranchSubr              398

000023          
000024          heater = New Heat()                                                                                                                          163:  0x806B   PushConstU10            107 (0x006B)
                                                                                                                                                             164:  0x0010   ClassNew                
                                                                                                                                                             165:  0x1DBA   BranchSubr              608
                                                                                                                                                             166:  0x000C   PushGlobal              
                                                                                                                                                             167:  0xD408   PopFieldRef             heater

000025          heater.Init(1)                                                                                                                               168:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             169:  0x000C   PushGlobal              
                                                                                                                                                             170:  0xC408   PushFieldRef            heater
                                                                                                                                                             171:  0x1DB6   BranchSubr              610

000026          
000027          CalculatePWM()                                                                                                                               172:  0x000D   PushMe                  
                                                                                                                                                             173:  0x1C29   BranchSubr              215

000028          CurrentTemp = AmbientTemp                                                                                                                    174:  0x000C   PushGlobal              
                                                                                                                                                             175:  0xC030   PushFieldI32            AmbientTemp
                                                                                                                                                             176:  0x000C   PushGlobal              
                                                                                                                                                             177:  0xD034   PopFieldI32             CurrentTemp

000029      End Event                                                                                                                                        178:  0x0091   Return                  

000030      
000031      //Apply schedules, get ambient temps and publish to MQTT     
                                                                                                                                                             179:  0x0001                           TimeValue=1
                                                                                                                                                             180:  0x0400                           EventCategory=TimeInMinutes
000032      Shared Event GetTempAndApplySchedule() RaiseEvent Every 1 Minutes                                                                                181:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0

000033          CalculatePWM()                                                                                                                               182:  0x000D   PushMe                  
                                                                                                                                                             183:  0x1C1F   BranchSubr              215

000034      End Event                                                                                                                                        184:  0x0091   Return                  

000035      
000036      Shared Sub SetPWMManual(_DutyCicle As Integer)                                                                                                   185:  0x1810   EntryPoint              ValTypParams=1, RefTypParams=0

000037          heater.SetPWMManual(_DutyCicle, AutoControl)                                                                                                 186:  0x8800   PushLocalI32            _DutyCicle
                                                                                                                                                             187:  0x000C   PushGlobal              
                                                                                                                                                             188:  0xB82C   PushFieldU8             AutoControl
                                                                                                                                                             189:  0x000C   PushGlobal              
                                                                                                                                                             190:  0xC408   PushFieldRef            heater
                                                                                                                                                             191:  0x1DE1   BranchSubr              673

000038          CalculatePWM()                                                                                                                               192:  0x000D   PushMe                  
                                                                                                                                                             193:  0x1C15   BranchSubr              215

000039      End Sub                                                                                                                                          194:  0x0091   Return                  

000040      
000041      Shared Sub SetAuto(_AutoControl As Integer)                                                                                                      195:  0x1810   EntryPoint              ValTypParams=1, RefTypParams=0

000042          If _AutoControl = 0 Then                                                                                                                     196:  0x8800   PushLocalI32            _AutoControl
                                                                                                                                                             197:  0x3804   BranchTrue              202

000043              AutoControl = False                                                                                                                      198:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             199:  0x000C   PushGlobal              
                                                                                                                                                             200:  0xC82C   PopFieldU8              AutoControl

                                                                                                                                                             201:  0x4003   Branch                  205
000044          Else                                                                                                                                         

000045              AutoControl = True                                                                                                                       202:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             203:  0x000C   PushGlobal              
                                                                                                                                                             204:  0xC82C   PopFieldU8              AutoControl

000046          End If
000047          CalculatePWM()                                                                                                                               205:  0x000D   PushMe                  
                                                                                                                                                             206:  0x1C08   BranchSubr              215

000048      End Sub                                                                                                                                          207:  0x0091   Return                  

000049      
000050      Shared Sub SetCurrentTemp(_currentTemp As Integer)                                                                                               208:  0x1810   EntryPoint              ValTypParams=1, RefTypParams=0

000051          CurrentTemp = _currentTemp                                                                                                                   209:  0x8800   PushLocalI32            _currentTemp
                                                                                                                                                             210:  0x000C   PushGlobal              
                                                                                                                                                             211:  0xD034   PopFieldI32             CurrentTemp

000052          CalculatePWM()                                                                                                                               212:  0x000D   PushMe                  
                                                                                                                                                             213:  0x1C01   BranchSubr              215

000053      End Sub                                                                                                                                          214:  0x0091   Return                  

000054      
000055      Private Sub CalculatePWM()                                                                                                                       215:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0
                                                                                                                                                             216:  0xE0C0   AllocateStackSpace      ValTypeSize=6, RefTypeSize=0

000056          Dim ambientGradient As Float = 0.2                                                                                                           217:  0x0110   PushConstI32            1045220557 (0x3E4CCCCD)
                                                                                                                                                             218:  0xCCCD                           
                                                                                                                                                             219:  0x3E4C                           
                                                                                                                                                             220:  0x9000   PopLocalI32             ambientGradient

000057          Dim controlledGradient As Float = 1.2                                                                                                        221:  0x0110   PushConstI32            1067030938 (0x3F99999A)
                                                                                                                                                             222:  0x999A                           
                                                                                                                                                             223:  0x3F99                           
                                                                                                                                                             224:  0x9001   PopLocalI32             controlledGradient

000058          Dim fAmbientTemp As Float
000059          Dim fTargetTemp As Float
000060          Dim fcalculatedPWM As Float
000061          Dim calculatedPWM As Integer
000062          
000063          GetAmbientTemp()                                                                                                                             225:  0x000D   PushMe                  
                                                                                                                                                             226:  0x1C30   BranchSubr              275

000064          If AutoControl = True And AmbientTemp <> -127 Then                                                                                           227:  0x000C   PushGlobal              
                                                                                                                                                             228:  0xB82C   PushFieldU8             AutoControl
                                                                                                                                                             229:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             230:  0x0020   IntCmpEQ                
                                                                                                                                                             231:  0x000C   PushGlobal              
                                                                                                                                                             232:  0xC030   PushFieldI32            AmbientTemp
                                                                                                                                                             233:  0xE87E   PushConstNeg8           -127 (0xFFFFFF81)
                                                                                                                                                             234:  0x0021   IntCmpNE                
                                                                                                                                                             235:  0x001F   IntAnd                  
                                                                                                                                                             236:  0x3C21   BranchFalse             270

000065              fAmbientTemp = AmbientTemp                                                                                                               237:  0x000C   PushGlobal              
                                                                                                                                                             238:  0xC030   PushFieldI32            AmbientTemp
                                                                                                                                                             239:  0x007E   CvtIntToFlt             
                                                                                                                                                             240:  0x9002   PopLocalI32             fAmbientTemp

000066              fTargetTemp = TargetTemp                                                                                                                 241:  0x000C   PushGlobal              
                                                                                                                                                             242:  0xC038   PushFieldI32            TargetTemp
                                                                                                                                                             243:  0x007E   CvtIntToFlt             
                                                                                                                                                             244:  0x9003   PopLocalI32             fTargetTemp

000067              fcalculatedPWM = (fTargetTemp - (fAmbientTemp - heater.GetPWMDCicle() * ambientGradient)) / controlledGradient                           245:  0x8803   PushLocalI32            fTargetTemp
                                                                                                                                                             246:  0x8802   PushLocalI32            fAmbientTemp
                                                                                                                                                             247:  0x000C   PushGlobal              
                                                                                                                                                             248:  0xC408   PushFieldRef            heater
                                                                                                                                                             249:  0x1D74   BranchSubr              622
                                                                                                                                                             250:  0x8800   PushLocalI32            ambientGradient
                                                                                                                                                             251:  0x0078   CvtIntToFlt1            
                                                                                                                                                             252:  0x003C   FltMul                  
                                                                                                                                                             253:  0x003F   FltSub                  
                                                                                                                                                             254:  0x003F   FltSub                  
                                                                                                                                                             255:  0x8801   PushLocalI32            controlledGradient
                                                                                                                                                             256:  0x003B   FltDiv                  
                                                                                                                                                             257:  0x9004   PopLocalI32             fcalculatedPWM

000068              calculatedPWM = fcalculatedPWM.ToInteger()                                                                                               258:  0x8804   PushLocalI32            fcalculatedPWM
                                                                                                                                                             259:  0x007B   CvtFltToInt             
                                                                                                                                                             260:  0x9005   PopLocalI32             calculatedPWM

000069              If calculatedPWM < 0 Then                                                                                                                261:  0x8805   PushLocalI32            calculatedPWM
                                                                                                                                                             262:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             263:  0x3401   BranchGE                265

000070                  calculatedPWM = 0                                                                                                                    264:  0x6005   Const0toLocalI32        calculatedPWM

000071              End If
000072              heater.SetPWMDCicle(calculatedPWM)                                                                                                       265:  0x8805   PushLocalI32            calculatedPWM
                                                                                                                                                             266:  0x000C   PushGlobal              
                                                                                                                                                             267:  0xC408   PushFieldRef            heater
                                                                                                                                                             268:  0x1D66   BranchSubr              627
                                                                                                                                                             269:  0xE420   FreeStackSpace          ValTypeSize=1, RefTypeSize=0

000073          End If
000074          ApplySchedule()                                                                                                                              270:  0x000D   PushMe                  
                                                                                                                                                             271:  0x1C09   BranchSubr              281

000075          Publish()                                                                                                                                    272:  0x000D   PushMe                  
                                                                                                                                                             273:  0x1C12   BranchSubr              292

000076      End Sub                                                                                                                                          274:  0x0091   Return                  

000077      
000078      Private Sub GetAmbientTemp()                                                                                                                     275:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0

000079          AmbientTemp = TempSensor.GetIntegerTemp()                                                                                                    276:  0x000C   PushGlobal              
                                                                                                                                                             277:  0x1DA8   BranchSubr              702
                                                                                                                                                             278:  0x000C   PushGlobal              
                                                                                                                                                             279:  0xD030   PopFieldI32             AmbientTemp

000080      End Sub                                                                                                                                          280:  0x0091   Return                  

000081      
000082      Private Sub ApplySchedule()                                                                                                                      281:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0
                                                                                                                                                             282:  0xE020   AllocateStackSpace      ValTypeSize=1, RefTypeSize=0

000083          Dim isDisabled As Boolean = schedule.IsDisabled()                                                                                            283:  0x000C   PushGlobal              
                                                                                                                                                             284:  0xC400   PushFieldRef            schedule
                                                                                                                                                             285:  0x1C44   BranchSubr              354
                                                                                                                                                             286:  0x9000   PopLocalI32             isDisabled

000084          heater.DisablePWMDutyCicle(isDisabled)                                                                                                       287:  0x8800   PushLocalI32            isDisabled
                                                                                                                                                             288:  0x000C   PushGlobal              
                                                                                                                                                             289:  0xC408   PushFieldRef            heater
                                                                                                                                                             290:  0x1D91   BranchSubr              692

000085      End Sub                                                                                                                                          291:  0x0091   Return                  

000086      
000087      Private Sub Publish()                                                                                                                            292:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0
                                                                                                                                                             293:  0xE020   AllocateStackSpace      ValTypeSize=1, RefTypeSize=0

000088          Dim PWMDCicle As Integer = heater.GetPWMDCicle()                                                                                             294:  0x000C   PushGlobal              
                                                                                                                                                             295:  0xC408   PushFieldRef            heater
                                                                                                                                                             296:  0x1D45   BranchSubr              622
                                                                                                                                                             297:  0x9000   PopLocalI32             PWMDCicle

000089          subscription.PublishJson(PWMDCicle, AutoControl, AmbientTemp, TargetTemp, CurrentTemp)                                                       298:  0x8800   PushLocalI32            PWMDCicle
                                                                                                                                                             299:  0x000C   PushGlobal              
                                                                                                                                                             300:  0xB82C   PushFieldU8             AutoControl
                                                                                                                                                             301:  0x000C   PushGlobal              
                                                                                                                                                             302:  0xC030   PushFieldI32            AmbientTemp
                                                                                                                                                             303:  0x000C   PushGlobal              
                                                                                                                                                             304:  0xC038   PushFieldI32            TargetTemp
                                                                                                                                                             305:  0x000C   PushGlobal              
                                                                                                                                                             306:  0xC034   PushFieldI32            CurrentTemp
                                                                                                                                                             307:  0x000C   PushGlobal              
                                                                                                                                                             308:  0xC404   PushFieldRef            subscription
                                                                                                                                                             309:  0x1CE8   BranchSubr              542

000090      End Sub                                                                                                                                          310:  0x0091   Return                  

000091      
000092      
000093  End Class                                                                                                                                            128:  0x0097   ReturnMe                


****** BLOCKS and VARIABLES for LizzardHeater
    Block Class (Line 2:93)
        LizzardHeater   Me              (ReadOnly, Offset=0)
        Object          MyBase          (ReadOnly, Offset=0)
        Scheduler       schedule        (SharedRefTypVariableOffset=0)
        Subsriptions    subscription    (SharedRefTypVariableOffset=4)
        Heat            heater          (SharedRefTypVariableOffset=8)
        Integer         AmbientTemp     (SharedValTypVariableOffset=48)
        Integer         CurrentTemp     (SharedValTypVariableOffset=52)
        Integer         TargetTemp      (SharedValTypVariableOffset=56)
        Boolean         AutoControl     (SharedValTypVariableOffset=44)
        Block Event Boot (Line 13:29)
        End Block
        Block Event GetTempAndApplySchedule (Line 32:34)
        End Block
        Block Sub SetPWMManual (Line 36:39)
            Integer         _DutyCicle      (LocalValTypVariableOffset=0)
        End Block
        Block Sub SetAuto (Line 41:48)
            Integer         _AutoControl    (LocalValTypVariableOffset=0)
            Block If Then  (Line 42:44)
            End Block
            Block Else (Line 44:46)
            End Block
        End Block
        Block Sub SetCurrentTemp (Line 50:53)
            Integer         _currentTemp    (LocalValTypVariableOffset=0)
        End Block
        Block Sub CalculatePWM (Line 55:76)
            Float           ambientGradient (LocalValTypVariableOffset=0)
            Float           controlledGradie(LocalValTypVariableOffset=1)
            Float           fAmbientTemp    (LocalValTypVariableOffset=2)
            Float           fTargetTemp     (LocalValTypVariableOffset=3)
            Float           fcalculatedPWM  (LocalValTypVariableOffset=4)
            Integer         calculatedPWM   (LocalValTypVariableOffset=5)
            Block If Then  (Line 64:73)
                Block If Then  (Line 69:71)
                End Block
            End Block
        End Block
        Block Sub GetAmbientTemp (Line 78:80)
        End Block
        Block Sub ApplySchedule (Line 82:85)
            Boolean         isDisabled      (LocalValTypVariableOffset=0)
        End Block
        Block Sub Publish (Line 87:90)
            Integer         PWMDCicle       (LocalValTypVariableOffset=0)
        End Block
        Total Size of Member data including base classes = 0.
    End Block


*************************************************************************************************************

000001  Class Scheduler                                                                                                                                      311:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0

000002      Private schedules As ListOfObject = New ListOfObject()                                                                                           312:  0x800A   PushConstU10            10 (0x000A)
                                                                                                                                                             313:  0x0010   ClassNew                
                                                                                                                                                             314:  0xB400   PopMemberRef            schedules

000003      Public Function AddOnInterval(_hourFrom As Integer, _hourTo As Integer) As Boolean                                                               316:  0x1820   EntryPoint              ValTypParams=2, RefTypParams=0
                                                                                                                                                             317:  0xE001   AllocateStackSpace      ValTypeSize=0, RefTypeSize=1

000004          Dim interval As ListOfInteger = New ListOfInteger()                                                                                          318:  0x800E   PushConstU10            14 (0x000E)
                                                                                                                                                             319:  0x0010   ClassNew                
                                                                                                                                                             320:  0x9400   PopLocalRef             interval

000005          If _hourFrom < 0 Or _hourTo <= 0 Or _hourFrom >= 24 Or _hourTo > 24 Or _hourFrom >= _hourTo Then                                             321:  0x8800   PushLocalI32            _hourFrom
                                                                                                                                                             322:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             323:  0x0024   IntCmpLT                
                                                                                                                                                             324:  0x8801   PushLocalI32            _hourTo
                                                                                                                                                             325:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             326:  0x0025   IntCmpLE                
                                                                                                                                                             327:  0x002D   IntOr                   
                                                                                                                                                             328:  0x8800   PushLocalI32            _hourFrom
                                                                                                                                                             329:  0x8018   PushConstU10            24 (0x0018)
                                                                                                                                                             330:  0x0023   IntCmpGE                
                                                                                                                                                             331:  0x002D   IntOr                   
                                                                                                                                                             332:  0x8801   PushLocalI32            _hourTo
                                                                                                                                                             333:  0x8018   PushConstU10            24 (0x0018)
                                                                                                                                                             334:  0x0022   IntCmpGT                
                                                                                                                                                             335:  0x002D   IntOr                   
                                                                                                                                                             336:  0x8800   PushLocalI32            _hourFrom
                                                                                                                                                             337:  0x8801   PushLocalI32            _hourTo
                                                                                                                                                             338:  0x0023   IntCmpGE                
                                                                                                                                                             339:  0x002D   IntOr                   
                                                                                                                                                             340:  0x3C02   BranchFalse             343

000006              Return False                                                                                                                             341:  0x0093   Return0                 

                                                                                                                                                             342:  0x4009   Branch                  352
000007          Else                                                                                                                                         

000008              interval.Add(_hourFrom)                                                                                                                  343:  0x8800   PushLocalI32            _hourFrom
                                                                                                                                                             344:  0x8C00   PushLocalRef            interval
                                                                                                                                                             345:  0x00A3   ListAdd                 

000009              interval.Add(_hourTo)                                                                                                                    346:  0x8801   PushLocalI32            _hourTo
                                                                                                                                                             347:  0x8C00   PushLocalRef            interval
                                                                                                                                                             348:  0x00A3   ListAdd                 

000010              schedules.Add(interval)                                                                                                                  349:  0x8C00   PushLocalRef            interval
                                                                                                                                                             350:  0xA400   PushMemberRef           schedules
                                                                                                                                                             351:  0x00A3   ListAdd                 

000011          End If
000012          Return True                                                                                                                                  352:  0x0094   Return1                 

000013      End Function                                                                                                                                     353:  0x0093   Return0                 

000014      
000015      Public Function IsDisabled() As Boolean                                                                                                          354:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0
                                                                                                                                                             355:  0xE060   AllocateStackSpace      ValTypeSize=3, RefTypeSize=0

000016          Dim curDate As DateTime = DateTime.Now                                                                                                       356:  0x0073   DatGetNow               
                                                                                                                                                             357:  0x9000   PopLocalI32             curDate

000017          Dim hour As Integer = curDate.Hour()                                                                                                         358:  0x8800   PushLocalI32            curDate
                                                                                                                                                             359:  0x006F   DatGetHour              
                                                                                                                                                             360:  0x9001   PopLocalI32             hour

000018          Dim ret As Boolean = True                                                                                                                    361:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             362:  0x9002   PopLocalI32             ret

000019          
                                                                                                                                                             363:  0xA400   PushMemberRef           schedules
                                                                                                                                                             364:  0x000F   ClassClone              
                                                                                                                                                             365:  0x000E   PushNothing             
                                                                                                                                                             366:  0x0003   ExchangeRef             
                                                                                                                                                             367:  0x0018   DupRef1                 
                                                                                                                                                             368:  0xC000   PushFieldI32            Offset=0
                                                                                                                                                             369:  0x0016   PushConstMinus1         
000020          For Each element In schedules.Clone()                                                                                                        370:  0x4C15   BranchForEach           392
                                                                                                                                                             371:  0xE001   AllocateStackSpace      ValTypeSize=0, RefTypeSize=1

000021              Dim interval As ListOfInteger = element.Cast(ListOfInteger)                                                                              372:  0x800E   PushConstU10            14 (0x000E)
                                                                                                                                                             373:  0x8C00   PushLocalRef            element
                                                                                                                                                             374:  0x0007   Cast                    
                                                                                                                                                             375:  0x9402   PopLocalRef             interval

000022              If hour >= interval(0) And hour < interval(1) Then                                                                                       376:  0x8801   PushLocalI32            hour
                                                                                                                                                             377:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             378:  0x8C02   PushLocalRef            interval
                                                                                                                                                             379:  0x00B4   ListItemGet             
                                                                                                                                                             380:  0x0023   IntCmpGE                
                                                                                                                                                             381:  0x8801   PushLocalI32            hour
                                                                                                                                                             382:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             383:  0x8C02   PushLocalRef            interval
                                                                                                                                                             384:  0x00B4   ListItemGet             
                                                                                                                                                             385:  0x0024   IntCmpLT                
                                                                                                                                                             386:  0x001F   IntAnd                  
                                                                                                                                                             387:  0x3C02   BranchFalse             390

000023                  ret = False                                                                                                                          388:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             389:  0x9002   PopLocalI32             ret

000024              End If
                                                                                                                                                             390:  0xE401   FreeStackSpace          ValTypeSize=0, RefTypeSize=1
                                                                                                                                                             391:  0x5016   BranchBack              370
000025          Next                                                                                                                                         392:  0xE442   FreeStackSpace          ValTypeSize=2, RefTypeSize=2

000026          Return ret                                                                                                                                   393:  0x8802   PushLocalI32            ret
                                                                                                                                                             394:  0x0092   ReturnValType           

000027      End Function                                                                                                                                     395:  0x0093   Return0                 

000028      
000029      
000030  End Class                                                                                                                                            315:  0x0097   ReturnMe                


****** BLOCKS and VARIABLES for Scheduler
    Block Class (Line 1:30)
        Scheduler       Me              (ReadOnly, Offset=0)
        Object          MyBase          (ReadOnly, Offset=0)
        ListOfObject    schedules       (MemberRefTypVariableOffset=0)
        Block Function AddOnInterval (Line 3:13)
            ListOfInteger   interval        (LocalRefTypVariableOffset=0)
            Integer         _hourFrom       (LocalValTypVariableOffset=0)
            Integer         _hourTo         (LocalValTypVariableOffset=1)
            Block If Then  (Line 5:7)
            End Block
            Block Else (Line 7:11)
            End Block
        End Block
        Block Function IsDisabled (Line 15:27)
            DateTime        curDate         (LocalValTypVariableOffset=0)
            Integer         hour            (LocalValTypVariableOffset=1)
            Boolean         ret             (LocalValTypVariableOffset=2)
            Block For Each  (Line 20:25)
                ListOfInteger   interval        (LocalRefTypVariableOffset=2)
                Object          element         (LocalRefTypVariableOffset=0)
                Block If Then  (Line 22:24)
                End Block
            End Block
        End Block
        Total Size of Member data including base classes = 4.
    End Block


*************************************************************************************************************

000001  Class Subsriptions                                                                                                                                   396:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0

000002      //Subscription topics    
000003      Const TopicRoot As String = "mcThings/beacon/00010F54"
000004      Const DeviceId As String = "/0001107E" 
000005      Const ControlTopic As String = "/HeatControl"
000006      Const SetAutoTopic As String = "/Auto"
000007      Const HeaterCheckTopic As String = "/Heater"
000008      
000009      Shared TopicRootPath As String
000010      Shared SubscribeTopicPath As String
000011      Shared HeatControlTopicPath As String
000012      Shared HeaterPubTopicPath As String
000013      Shared SetAutoTopicPath As String 
000014      
000015      Public Sub Init()                                                                                                                                398:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0

000016          SubscribeTopicPath = TopicRoot + "/#"                                                                                                        399:  0x8420   PushLiteral             32
                                                                                                                                                             400:  0x000C   PushGlobal              
                                                                                                                                                             401:  0xD410   PopFieldRef             SubscribeTopicPath

000017          TopicRootPath = TopicRoot + DeviceId                                                                                                         402:  0x8428   PushLiteral             40
                                                                                                                                                             403:  0x000C   PushGlobal              
                                                                                                                                                             404:  0xD40C   PopFieldRef             TopicRootPath

000018          HeatControlTopicPath = TopicRootPath + ControlTopic                                                                                          405:  0x000C   PushGlobal              
                                                                                                                                                             406:  0xC40C   PushFieldRef            TopicRootPath
                                                                                                                                                             407:  0x8415   PushLiteral             21
                                                                                                                                                             408:  0x0056   StrAdd                  
                                                                                                                                                             409:  0x000C   PushGlobal              
                                                                                                                                                             410:  0xD414   PopFieldRef             HeatControlTopicPath

000019          HeaterPubTopicPath = TopicRootPath + HeaterCheckTopic                                                                                        411:  0x000C   PushGlobal              
                                                                                                                                                             412:  0xC40C   PushFieldRef            TopicRootPath
                                                                                                                                                             413:  0x841D   PushLiteral             29
                                                                                                                                                             414:  0x0056   StrAdd                  
                                                                                                                                                             415:  0x000C   PushGlobal              
                                                                                                                                                             416:  0xD418   PopFieldRef             HeaterPubTopicPath

000020          SetAutoTopicPath = TopicRootPath + SetAutoTopic                                                                                              417:  0x000C   PushGlobal              
                                                                                                                                                             418:  0xC40C   PushFieldRef            TopicRootPath
                                                                                                                                                             419:  0x841A   PushLiteral             26
                                                                                                                                                             420:  0x0056   StrAdd                  
                                                                                                                                                             421:  0x000C   PushGlobal              
                                                                                                                                                             422:  0xD41C   PopFieldRef             SetAutoTopicPath

000021          Lplan.Subscribe(SubscribeTopicPath, QoS.AtLeastOnce)                                                                                         423:  0x000C   PushGlobal              
                                                                                                                                                             424:  0xC410   PushFieldRef            SubscribeTopicPath
                                                                                                                                                             425:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             426:  0x0102   LplanSubscribe          

000022      End Sub                                                                                                                                          427:  0x0091   Return                  

000023      
000024      //Get values from subscriptions    
                                                                                                                                                             428:  0x0003                           EventType=SubscriptionDelivery
                                                                                                                                                             429:  0x0700                           EventCategory=Interrupt
000025      Shared Event SubscriptionDelivery()                                                                                                              430:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0
                                                                                                                                                             431:  0xE003   AllocateStackSpace      ValTypeSize=0, RefTypeSize=3

000026          Dim msg As Message = Lplan.GetDelivery()                                                                                                     432:  0x00FE   LplanGetDelivery        
                                                                                                                                                             433:  0x9400   PopLocalRef             msg

000027          Dim payload As ListOfByte = msg.PayLoad                                                                                                      434:  0x8C00   PushLocalRef            msg
                                                                                                                                                             435:  0xC404   PushFieldRef            Offset=4
                                                                                                                                                             436:  0x9401   PopLocalRef             payload

000028          Dim topic As String = msg.Topic                                                                                                              437:  0x8C00   PushLocalRef            msg
                                                                                                                                                             438:  0xC400   PushFieldRef            Offset=0
                                                                                                                                                             439:  0x9402   PopLocalRef             topic

000029          If topic = HeatControlTopicPath Then                                                                                                         440:  0x8C02   PushLocalRef            topic
                                                                                                                                                             441:  0x000C   PushGlobal              
                                                                                                                                                             442:  0xC414   PushFieldRef            HeatControlTopicPath
                                                                                                                                                             443:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             444:  0x0058   StrCmpEQ                
                                                                                                                                                             445:  0x3C0A   BranchFalse             456
                                                                                                                                                             446:  0xE020   AllocateStackSpace      ValTypeSize=1, RefTypeSize=0

000030              Dim res As Integer = Str2Int(payload)                                                                                                    447:  0x8C01   PushLocalRef            payload
                                                                                                                                                             448:  0x000D   PushMe                  
                                                                                                                                                             449:  0x1C26   BranchSubr              488
                                                                                                                                                             450:  0x9000   PopLocalI32             res

000031              LizzardHeater.SetPWMManual(res)                                                                                                          451:  0x8800   PushLocalI32            res
                                                                                                                                                             452:  0x000C   PushGlobal              
                                                                                                                                                             453:  0x550D   BranchSubrBack          185

                                                                                                                                                             454:  0xE420   FreeStackSpace          ValTypeSize=1, RefTypeSize=0
                                                                                                                                                             455:  0x401F   Branch                  487
000032          ElseIf topic = TopicRootPath Then                                                                                                            456:  0x8C02   PushLocalRef            topic
                                                                                                                                                             457:  0x000C   PushGlobal              
                                                                                                                                                             458:  0xC40C   PushFieldRef            TopicRootPath
                                                                                                                                                             459:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             460:  0x0058   StrCmpEQ                
                                                                                                                                                             461:  0x3C0A   BranchFalse             472
                                                                                                                                                             462:  0xE020   AllocateStackSpace      ValTypeSize=1, RefTypeSize=0

000033              Dim iTemp As Integer = payload(4)                                                                                                        463:  0x8004   PushConstU10            4 (0x0004)
                                                                                                                                                             464:  0x8C01   PushLocalRef            payload
                                                                                                                                                             465:  0x00B4   ListItemGet             
                                                                                                                                                             466:  0x9000   PopLocalI32             iTemp

000034              LizzardHeater.SetCurrentTemp(iTemp)                                                                                                      467:  0x8800   PushLocalI32            iTemp
                                                                                                                                                             468:  0x000C   PushGlobal              
                                                                                                                                                             469:  0x5506   BranchSubrBack          208

                                                                                                                                                             470:  0xE420   FreeStackSpace          ValTypeSize=1, RefTypeSize=0
                                                                                                                                                             471:  0x400F   Branch                  487
000035          ElseIf topic = SetAutoTopicPath Then                                                                                                         472:  0x8C02   PushLocalRef            topic
                                                                                                                                                             473:  0x000C   PushGlobal              
                                                                                                                                                             474:  0xC41C   PushFieldRef            SetAutoTopicPath
                                                                                                                                                             475:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             476:  0x0058   StrCmpEQ                
                                                                                                                                                             477:  0x3C09   BranchFalse             487
                                                                                                                                                             478:  0xE020   AllocateStackSpace      ValTypeSize=1, RefTypeSize=0

000036              Dim iAuto As Integer = Str2Int(payload)                                                                                                  479:  0x8C01   PushLocalRef            payload
                                                                                                                                                             480:  0x000D   PushMe                  
                                                                                                                                                             481:  0x1C06   BranchSubr              488
                                                                                                                                                             482:  0x9000   PopLocalI32             iAuto

000037              LizzardHeater.SetAuto(iAuto)                                                                                                             483:  0x8800   PushLocalI32            iAuto
                                                                                                                                                             484:  0x000C   PushGlobal              
                                                                                                                                                             485:  0x5523   BranchSubrBack          195

                                                                                                                                                             486:  0xE420   FreeStackSpace          ValTypeSize=1, RefTypeSize=0
000038          End If                                                                                                                                       

000039      End Event                                                                                                                                        487:  0x0091   Return                  

000040      
000041      
000042      Public Function Str2Int(_payload As ListOfByte) As Integer                                                                                       488:  0x1801   EntryPoint              ValTypParams=0, RefTypParams=1
                                                                                                                                                             489:  0xE080   AllocateStackSpace      ValTypeSize=4, RefTypeSize=0

000043          Dim res As Integer = 0
000044          Dim negative As Boolean = False
000045          Dim skipSign As Boolean = False
000046          Dim pos As Integer = 0
000047          
                                                                                                                                                             490:  0x8C00   PushLocalRef            _payload
                                                                                                                                                             491:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             492:  0x0018   DupRef1                 
                                                                                                                                                             493:  0xC000   PushFieldI32            Offset=0
                                                                                                                                                             494:  0x0016   PushConstMinus1         
000048          For Each char In _payload                                                                                                                    495:  0x4C24   BranchForEach           532
                                                                                                                                                             496:  0xE020   AllocateStackSpace      ValTypeSize=1, RefTypeSize=0

000049              Dim intChar As Integer = char.ToInteger()                                                                                                497:  0x8804   PushLocalI32            char
                                                                                                                                                             498:  0x9007   PopLocalI32             intChar

000050              If intChar = 45 And skipSign = False Then                                                                                                499:  0x8807   PushLocalI32            intChar
                                                                                                                                                             500:  0x802D   PushConstU10            45 (0x002D)
                                                                                                                                                             501:  0x0020   IntCmpEQ                
                                                                                                                                                             502:  0x8802   PushLocalI32            skipSign
                                                                                                                                                             503:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             504:  0x0020   IntCmpEQ                
                                                                                                                                                             505:  0x001F   IntAnd                  
                                                                                                                                                             506:  0x3C05   BranchFalse             512

000051                  skipSign = True                                                                                                                      507:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             508:  0x9002   PopLocalI32             skipSign

000052                  negative = True                                                                                                                      509:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             510:  0x9001   PopLocalI32             negative

                                                                                                                                                             511:  0x4012   Branch                  530
000053              ElseIf intChar >= 48 And intChar <= 57 Then                                                                                              512:  0x8807   PushLocalI32            intChar
                                                                                                                                                             513:  0x8030   PushConstU10            48 (0x0030)
                                                                                                                                                             514:  0x0023   IntCmpGE                
                                                                                                                                                             515:  0x8807   PushLocalI32            intChar
                                                                                                                                                             516:  0x8039   PushConstU10            57 (0x0039)
                                                                                                                                                             517:  0x0025   IntCmpLE                
                                                                                                                                                             518:  0x001F   IntAnd                  
                                                                                                                                                             519:  0x3C0A   BranchFalse             530

000054                  skipSign = True                                                                                                                      520:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             521:  0x9002   PopLocalI32             skipSign

000055                  res = res * 10 + char - 48                                                                                                           522:  0x8800   PushLocalI32            res
                                                                                                                                                             523:  0x800A   PushConstU10            10 (0x000A)
                                                                                                                                                             524:  0x002A   IntMul                  
                                                                                                                                                             525:  0x8804   PushLocalI32            char
                                                                                                                                                             526:  0x001E   IntAdd                  
                                                                                                                                                             527:  0x8030   PushConstU10            48 (0x0030)
                                                                                                                                                             528:  0x0031   IntSub                  
                                                                                                                                                             529:  0x9000   PopLocalI32             res

000056              End If
                                                                                                                                                             530:  0xE420   FreeStackSpace          ValTypeSize=1, RefTypeSize=0
                                                                                                                                                             531:  0x5025   BranchBack              495
000057          Next                                                                                                                                         532:  0xE461   FreeStackSpace          ValTypeSize=3, RefTypeSize=1

000058          If negative = True Then                                                                                                                      533:  0x8801   PushLocalI32            negative
                                                                                                                                                             534:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             535:  0x2403   BranchNE                539

000059              res = -res                                                                                                                               536:  0x8800   PushLocalI32            res
                                                                                                                                                             537:  0x002B   IntNeg                  
                                                                                                                                                             538:  0x9000   PopLocalI32             res

000060          End If
000061          Return res                                                                                                                                   539:  0x8800   PushLocalI32            res
                                                                                                                                                             540:  0x0092   ReturnValType           

000062      End Function                                                                                                                                     541:  0x0093   Return0                 

000063      
000064      Public Sub PublishJson(_PWMCicle As Integer, _AutoControl As Boolean, _AmbientTemp As Integer, _TargetTemp As Integer, _CurrentTemp As Integer)  542:  0x1850   EntryPoint              ValTypParams=5, RefTypParams=0
                                                                                                                                                             543:  0xE023   AllocateStackSpace      ValTypeSize=1, RefTypeSize=3

000065          
000066          Dim jControl As Json = New Json                                                                                                              544:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             545:  0x8014   PushConstU10            20 (0x0014)
                                                                                                                                                             546:  0x0010   ClassNew                
                                                                                                                                                             547:  0x9400   PopLocalRef             jControl

000067          jControl.Add("PWMCicle", _PWMCicle)                                                                                                          548:  0x8432   PushLiteral             50
                                                                                                                                                             549:  0x8800   PushLocalI32            _PWMCicle
                                                                                                                                                             550:  0x8C00   PushLocalRef            jControl
                                                                                                                                                             551:  0x8004   PushConstU10            4 (0x0004)
                                                                                                                                                             552:  0x00C2   JsonAdd                 

000068          jControl.Add("Auto", _AutoControl)                                                                                                           553:  0x8436   PushLiteral             54
                                                                                                                                                             554:  0x8801   PushLocalI32            _AutoControl
                                                                                                                                                             555:  0x8C00   PushLocalRef            jControl
                                                                                                                                                             556:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             557:  0x00C2   JsonAdd                 

000069          
000070          Dim jTemperature As Json = New Json                                                                                                          558:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             559:  0x8014   PushConstU10            20 (0x0014)
                                                                                                                                                             560:  0x0010   ClassNew                
                                                                                                                                                             561:  0x9401   PopLocalRef             jTemperature

000071          jTemperature.Add("Ambient", _AmbientTemp)                                                                                                    562:  0x8439   PushLiteral             57
                                                                                                                                                             563:  0x8802   PushLocalI32            _AmbientTemp
                                                                                                                                                             564:  0x8C01   PushLocalRef            jTemperature
                                                                                                                                                             565:  0x8004   PushConstU10            4 (0x0004)
                                                                                                                                                             566:  0x00C2   JsonAdd                 

000072          jTemperature.Add("Target", _TargetTemp)                                                                                                      567:  0x843C   PushLiteral             60
                                                                                                                                                             568:  0x8803   PushLocalI32            _TargetTemp
                                                                                                                                                             569:  0x8C01   PushLocalRef            jTemperature
                                                                                                                                                             570:  0x8004   PushConstU10            4 (0x0004)
                                                                                                                                                             571:  0x00C2   JsonAdd                 

000073          jTemperature.Add("Current", _CurrentTemp)                                                                                                    572:  0x843F   PushLiteral             63
                                                                                                                                                             573:  0x8804   PushLocalI32            _CurrentTemp
                                                                                                                                                             574:  0x8C01   PushLocalRef            jTemperature
                                                                                                                                                             575:  0x8004   PushConstU10            4 (0x0004)
                                                                                                                                                             576:  0x00C2   JsonAdd                 

000074          
000075          Dim jCheck As Json = New Json                                                                                                                577:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             578:  0x8014   PushConstU10            20 (0x0014)
                                                                                                                                                             579:  0x0010   ClassNew                
                                                                                                                                                             580:  0x9402   PopLocalRef             jCheck

000076          Dim curDate As DateTime = DateTime.Now                                                                                                       581:  0x0073   DatGetNow               
                                                                                                                                                             582:  0x9005   PopLocalI32             curDate

000077          jCheck.Add("DateTime", curDate)                                                                                                              583:  0x8442   PushLiteral             66
                                                                                                                                                             584:  0x8805   PushLocalI32            curDate
                                                                                                                                                             585:  0x8C02   PushLocalRef            jCheck
                                                                                                                                                             586:  0x8008   PushConstU10            8 (0x0008)
                                                                                                                                                             587:  0x00C2   JsonAdd                 

000078          jCheck.Add("Controls", jControl)                                                                                                             588:  0x8446   PushLiteral             70
                                                                                                                                                             589:  0x8C00   PushLocalRef            jControl
                                                                                                                                                             590:  0x8C02   PushLocalRef            jCheck
                                                                                                                                                             591:  0x8014   PushConstU10            20 (0x0014)
                                                                                                                                                             592:  0x00C2   JsonAdd                 

000079          jCheck.Add("Temperatures", jTemperature)                                                                                                     593:  0x844A   PushLiteral             74
                                                                                                                                                             594:  0x8C01   PushLocalRef            jTemperature
                                                                                                                                                             595:  0x8C02   PushLocalRef            jCheck
                                                                                                                                                             596:  0x8014   PushConstU10            20 (0x0014)
                                                                                                                                                             597:  0x00C2   JsonAdd                 

000080          Lplan.Publish(HeaterPubTopicPath, jCheck.ToListOfByte)                                                                                       598:  0x000C   PushGlobal              
                                                                                                                                                             599:  0xC418   PushFieldRef            HeaterPubTopicPath
                                                                                                                                                             600:  0x8C02   PushLocalRef            jCheck
                                                                                                                                                             601:  0x0081   CvtObjToStr             
                                                                                                                                                             602:  0x0016   PushConstMinus1         
                                                                                                                                                             603:  0x0065   StrToListOfByte         
                                                                                                                                                             604:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             605:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             606:  0x0101   LplanPublish            

000081          
000082      End Sub                                                                                                                                          607:  0x0091   Return                  

000083      
000084      
000085  End Class                                                                                                                                            397:  0x0097   ReturnMe                


****** BLOCKS and VARIABLES for Subsriptions
    Block Class (Line 1:85)
        Subsriptions    Me              (ReadOnly, Offset=0)
        Object          MyBase          (ReadOnly, Offset=0)
        String          TopicRoot       (Literal="mcThings/beacon/00010F54")
        String          DeviceId        (Literal="/0001107E")
        String          ControlTopic    (Literal="/HeatControl")
        String          SetAutoTopic    (Literal="/Auto")
        String          HeaterCheckTopic(Literal="/Heater")
        String          TopicRootPath   (SharedRefTypVariableOffset=12)
        String          SubscribeTopicPa(SharedRefTypVariableOffset=16)
        String          HeatControlTopic(SharedRefTypVariableOffset=20)
        String          HeaterPubTopicPa(SharedRefTypVariableOffset=24)
        String          SetAutoTopicPath(SharedRefTypVariableOffset=28)
        Block Sub Init (Line 15:22)
        End Block
        Block Event SubscriptionDelivery (Line 25:39)
            Message         msg             (LocalRefTypVariableOffset=0)
            ListOfByte      payload         (LocalRefTypVariableOffset=1)
            String          topic           (LocalRefTypVariableOffset=2)
            Block If Then  (Line 29:32)
                Integer         res             (LocalValTypVariableOffset=0)
            End Block
            Block ElseIf (Line 32:35)
                Integer         iTemp           (LocalValTypVariableOffset=0)
            End Block
            Block ElseIf (Line 35:38)
                Integer         iAuto           (LocalValTypVariableOffset=0)
            End Block
        End Block
        Block Function Str2Int (Line 42:62)
            Integer         res             (LocalValTypVariableOffset=0)
            Boolean         negative        (LocalValTypVariableOffset=1)
            Boolean         skipSign        (LocalValTypVariableOffset=2)
            Integer         pos             (LocalValTypVariableOffset=3)
            ListOfByte      _payload        (LocalRefTypVariableOffset=0)
            Block For Each  (Line 48:57)
                Integer         intChar         (LocalValTypVariableOffset=7)
                Byte            char            (LocalValTypVariableOffset=4)
                Block If Then  (Line 50:53)
                End Block
                Block ElseIf (Line 53:56)
                End Block
            End Block
            Block If Then  (Line 58:60)
            End Block
        End Block
        Block Sub PublishJson (Line 64:82)
            Json            jControl        (LocalRefTypVariableOffset=0)
            Json            jTemperature    (LocalRefTypVariableOffset=1)
            Json            jCheck          (LocalRefTypVariableOffset=2)
            DateTime        curDate         (LocalValTypVariableOffset=5)
            Integer         _PWMCicle       (LocalValTypVariableOffset=0)
            Boolean         _AutoControl    (LocalValTypVariableOffset=1)
            Integer         _AmbientTemp    (LocalValTypVariableOffset=2)
            Integer         _TargetTemp     (LocalValTypVariableOffset=3)
            Integer         _CurrentTemp    (LocalValTypVariableOffset=4)
        End Block
        Total Size of Member data including base classes = 0.
    End Block


*************************************************************************************************************

000001  Class Heat                                                                                                                                           608:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0

000002      //PWM Setup    
000003      Const PWMScale As Integer = 20 // Total PWM Width 
000004      Shared PWMDutyCicle As Integer // Current PWM Duty Cicle size 
000005      Shared PWMCounter As Integer //Internal PWM counter
000006      Shared PWMSet As Integer //PWM Duty Cicle set up from MQTT
000007      
000008      Public Sub Init(_PWMSet As Integer)                                                                                                              610:  0x1810   EntryPoint              ValTypParams=1, RefTypParams=0

000009          PWMSet = _PWMSet                                                                                                                             611:  0x8800   PushLocalI32            _PWMSet
                                                                                                                                                             612:  0x000C   PushGlobal              
                                                                                                                                                             613:  0xD044   PopFieldI32             PWMSet

000010          PWMCounter = PWMScale                                                                                                                        614:  0x8014   PushConstU10            20 (0x0014)
                                                                                                                                                             615:  0x000C   PushGlobal              
                                                                                                                                                             616:  0xD040   PopFieldI32             PWMCounter

000011          PWMDutyCicle = PWMSet                                                                                                                        617:  0x000C   PushGlobal              
                                                                                                                                                             618:  0xC044   PushFieldI32            PWMSet
                                                                                                                                                             619:  0x000C   PushGlobal              
                                                                                                                                                             620:  0xD03C   PopFieldI32             PWMDutyCicle

000012      End Sub                                                                                                                                          621:  0x0091   Return                  

000013      
000014      Public Function GetPWMDCicle() As Integer                                                                                                        622:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0

000015          Return PWMDutyCicle                                                                                                                          623:  0x000C   PushGlobal              
                                                                                                                                                             624:  0xC03C   PushFieldI32            PWMDutyCicle
                                                                                                                                                             625:  0x0092   ReturnValType           

000016      End Function                                                                                                                                     626:  0x0093   Return0                 

000017      
000018      Public Function SetPWMDCicle(_PWMDutyCicle As Integer) As Integer                                                                                627:  0x1810   EntryPoint              ValTypParams=1, RefTypParams=0

000019          If _PWMDutyCicle >= 0 And _PWMDutyCicle <= PWMScale Then                                                                                     628:  0x8800   PushLocalI32            _PWMDutyCicle
                                                                                                                                                             629:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             630:  0x0023   IntCmpGE                
                                                                                                                                                             631:  0x8800   PushLocalI32            _PWMDutyCicle
                                                                                                                                                             632:  0x8014   PushConstU10            20 (0x0014)
                                                                                                                                                             633:  0x0025   IntCmpLE                
                                                                                                                                                             634:  0x001F   IntAnd                  
                                                                                                                                                             635:  0x3C03   BranchFalse             639

000020              PWMDutyCicle = _PWMDutyCicle                                                                                                             636:  0x8800   PushLocalI32            _PWMDutyCicle
                                                                                                                                                             637:  0x000C   PushGlobal              
                                                                                                                                                             638:  0xD03C   PopFieldI32             PWMDutyCicle

000021          End If
000022          Return PWMDutyCicle                                                                                                                          639:  0x000C   PushGlobal              
                                                                                                                                                             640:  0xC03C   PushFieldI32            PWMDutyCicle
                                                                                                                                                             641:  0x0092   ReturnValType           

000023      End Function                                                                                                                                     642:  0x0093   Return0                 

000024      
000025      //PWM emulation cicle    
                                                                                                                                                             643:  0x0064                           TimeValue=100
                                                                                                                                                             644:  0x0200                           EventCategory=TimeInMilliSeconds
000026      Shared Event PWMCicle() RaiseEvent Every 100 milliSeconds                                                                                        645:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0

000027          If PWMCounter = 0 Then                                                                                                                       646:  0x000C   PushGlobal              
                                                                                                                                                             647:  0xC040   PushFieldI32            PWMCounter
                                                                                                                                                             648:  0x3803   BranchTrue              652

000028              PWMCounter = PWMScale                                                                                                                    649:  0x8014   PushConstU10            20 (0x0014)
                                                                                                                                                             650:  0x000C   PushGlobal              
                                                                                                                                                             651:  0xD040   PopFieldI32             PWMCounter

000029          End If
000030          If PWMCounter > PWMDutyCicle Then                                                                                                            652:  0x000C   PushGlobal              
                                                                                                                                                             653:  0xC040   PushFieldI32            PWMCounter
                                                                                                                                                             654:  0x000C   PushGlobal              
                                                                                                                                                             655:  0xC03C   PushFieldI32            PWMDutyCicle
                                                                                                                                                             656:  0x2C05   BranchLE                662

000031              LedRed = False                                                                                                                           657:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             658:  0x0809   PopAndSetDigitalPin     Pin9

000032              Relay = False                                                                                                                            659:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             660:  0x0806   PopAndSetDigitalPin     Pin6

                                                                                                                                                             661:  0x4004   Branch                  666
000033          Else                                                                                                                                         

000034              LedRed = True                                                                                                                            662:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             663:  0x0809   PopAndSetDigitalPin     Pin9

000035              Relay = True                                                                                                                             664:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             665:  0x0806   PopAndSetDigitalPin     Pin6

000036          End If
000037          PWMCounter = PWMCounter - 1                                                                                                                  666:  0x000C   PushGlobal              
                                                                                                                                                             667:  0xC040   PushFieldI32            PWMCounter
                                                                                                                                                             668:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             669:  0x0031   IntSub                  
                                                                                                                                                             670:  0x000C   PushGlobal              
                                                                                                                                                             671:  0xD040   PopFieldI32             PWMCounter

000038      End Event                                                                                                                                        672:  0x0091   Return                  

000039      
000040      Public Sub SetPWMManual(_DutyCicle As Integer, _auto As Boolean)                                                                                 673:  0x1820   EntryPoint              ValTypParams=2, RefTypParams=0

000041          If _DutyCicle >= 0 And _DutyCicle <= PWMScale Then                                                                                           674:  0x8800   PushLocalI32            _DutyCicle
                                                                                                                                                             675:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             676:  0x0023   IntCmpGE                
                                                                                                                                                             677:  0x8800   PushLocalI32            _DutyCicle
                                                                                                                                                             678:  0x8014   PushConstU10            20 (0x0014)
                                                                                                                                                             679:  0x0025   IntCmpLE                
                                                                                                                                                             680:  0x001F   IntAnd                  
                                                                                                                                                             681:  0x3C09   BranchFalse             691

000042              PWMSet = _DutyCicle                                                                                                                      682:  0x8800   PushLocalI32            _DutyCicle
                                                                                                                                                             683:  0x000C   PushGlobal              
                                                                                                                                                             684:  0xD044   PopFieldI32             PWMSet

000043              If _auto = False Then                                                                                                                    685:  0x8801   PushLocalI32            _auto
                                                                                                                                                             686:  0x3804   BranchTrue              691

000044                  PWMDutyCicle = PWMSet                                                                                                                687:  0x000C   PushGlobal              
                                                                                                                                                             688:  0xC044   PushFieldI32            PWMSet
                                                                                                                                                             689:  0x000C   PushGlobal              
                                                                                                                                                             690:  0xD03C   PopFieldI32             PWMDutyCicle

000045              End If
000046          End If 
000047      End Sub                                                                                                                                          691:  0x0091   Return                  

000048      
000049      Public Sub DisablePWMDutyCicle(_disabled As Boolean)                                                                                             692:  0x1810   EntryPoint              ValTypParams=1, RefTypParams=0

000050          If _disabled = True Then                                                                                                                     693:  0x8800   PushLocalI32            _disabled
                                                                                                                                                             694:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             695:  0x2403   BranchNE                699

000051              PWMDutyCicle = 0                                                                                                                         696:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             697:  0x000C   PushGlobal              
                                                                                                                                                             698:  0xD03C   PopFieldI32             PWMDutyCicle

000052          End If
000053          
000054      End Sub                                                                                                                                          699:  0x0091   Return                  

000055  End Class                                                                                                                                            609:  0x0097   ReturnMe                


****** BLOCKS and VARIABLES for Heat
    Block Class (Line 1:55)
        Heat            Me              (ReadOnly, Offset=0)
        Object          MyBase          (ReadOnly, Offset=0)
        Integer         PWMScale        (Literal=20)
        Integer         PWMDutyCicle    (SharedValTypVariableOffset=60)
        Integer         PWMCounter      (SharedValTypVariableOffset=64)
        Integer         PWMSet          (SharedValTypVariableOffset=68)
        Block Sub Init (Line 8:12)
            Integer         _PWMSet         (LocalValTypVariableOffset=0)
        End Block
        Block Function GetPWMDCicle (Line 14:16)
        End Block
        Block Function SetPWMDCicle (Line 18:23)
            Integer         _PWMDutyCicle   (LocalValTypVariableOffset=0)
            Block If Then  (Line 19:21)
            End Block
        End Block
        Block Event PWMCicle (Line 26:38)
            Block If Then  (Line 27:29)
            End Block
            Block If Then  (Line 30:33)
            End Block
            Block Else (Line 33:36)
            End Block
        End Block
        Block Sub SetPWMManual (Line 40:47)
            Integer         _DutyCicle      (LocalValTypVariableOffset=0)
            Boolean         _auto           (LocalValTypVariableOffset=1)
            Block If Then  (Line 41:46)
                Block If Then  (Line 43:45)
                End Block
            End Block
        End Block
        Block Sub DisablePWMDutyCicle (Line 49:54)
            Boolean         _disabled       (LocalValTypVariableOffset=0)
            Block If Then  (Line 50:52)
            End Block
        End Block
        Total Size of Member data including base classes = 0.
    End Block


*************************************************************************************************************

000001  Class TempSensor                                                                                                                                     700:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0

000002      // Function returns the temperature in degree celcius or 
000003      // Float.NaN if something is wrong
000004      Shared Function GetIntegerTemp() As Integer                                                                                                      702:  0x1800   EntryPoint              ValTypParams=0, RefTypParams=0
                                                                                                                                                             703:  0xE022   AllocateStackSpace      ValTypeSize=1, RefTypeSize=2

000005          // Define the properties of the I2C peripheral and device address
000006          Dim sensor As I2c
000007          sensor = I2c.Create(250000, Pin.SCL, Pin.SDA, 0x48)                                                                                          704:  0x0110   PushConstI32            250000 (0x0003D090)
                                                                                                                                                             705:  0xD090                           
                                                                                                                                                             706:  0x0003                           
                                                                                                                                                             707:  0x800D   PushConstU10            13 (0x000D)
                                                                                                                                                             708:  0x800E   PushConstU10            14 (0x000E)
                                                                                                                                                             709:  0x8048   PushConstU10            72 (0x0048)
                                                                                                                                                             710:  0x803B   PushConstU10            59 (0x003B)
                                                                                                                                                             711:  0x0010   ClassNew                
                                                                                                                                                             712:  0x9400   PopLocalRef             sensor

000008          
000009          // Power up the sensor and give it some time to settle
000010          Device.EnableTempSensor()                                                                                                                    713:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             714:  0x00F0   DeviceEnableTemp        

000011          Thread.Sleep(40000) // See page 13 of the datasheet                                                                                          715:  0x0110   PushConstI32            40000 (0x00009C40)
                                                                                                                                                             716:  0x9C40                           
                                                                                                                                                             717:  0x0000                           
                                                                                                                                                             718:  0x00D5   ThreadSleep             
                                                                                                                                                             719:  0xE420   FreeStackSpace          ValTypeSize=1, RefTypeSize=0

000012          
000013          // Read the sensor (only 2 bytes to read
000014          Dim res As ListOfByte = sensor.Read(2)                                                                                                       720:  0x8002   PushConstU10            2 (0x0002)
                                                                                                                                                             721:  0x8C00   PushLocalRef            sensor
                                                                                                                                                             722:  0x8001   PushConstU10            1 (0x0001)
                                                                                                                                                             723:  0x00E0   I2cDeviceRead           
                                                                                                                                                             724:  0x9401   PopLocalRef             res

000015          
000016          // See Tmp102 documentation how to interpret the data (page 8)
000017          Dim temp As Integer = -127                                                                                                                   725:  0xE87E   PushConstNeg8           -127 (0xFFFFFF81)
                                                                                                                                                             726:  0x9000   PopLocalI32             temp

000018          If res <> Nothing Then                                                                                                                       727:  0x8C01   PushLocalRef            res
                                                                                                                                                             728:  0x000E   PushNothing             
                                                                                                                                                             729:  0x000B   RefCmpNE                
                                                                                                                                                             730:  0x3C06   BranchFalse             737

000019              temp = res(0).SignExtend()                                                                                                               731:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             732:  0x8C01   PushLocalRef            res
                                                                                                                                                             733:  0x00B4   ListItemGet             
                                                                                                                                                             734:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             735:  0x0005   SignExtend              
                                                                                                                                                             736:  0x9000   PopLocalI32             temp

000020          End If
000021          
000022          // power off
000023          Device.DisableTempSensor()                                                                                                                   737:  0x8000   PushConstU10            0 (0x0000)
                                                                                                                                                             738:  0x00F0   DeviceEnableTemp        

000024          Return temp                                                                                                                                  739:  0x8800   PushLocalI32            temp
                                                                                                                                                             740:  0x0092   ReturnValType           

000025      End Function                                                                                                                                     741:  0x0093   Return0                 

000026      
000027  End Class                                                                                                                                            701:  0x0097   ReturnMe                


****** BLOCKS and VARIABLES for TempSensor
    Block Class (Line 1:27)
        TempSensor      Me              (ReadOnly, Offset=0)
        Object          MyBase          (ReadOnly, Offset=0)
        Block Function GetIntegerTemp (Line 4:25)
            I2c             sensor          (LocalRefTypVariableOffset=0)
            ListOfByte      res             (LocalRefTypVariableOffset=1)
            Integer         temp            (LocalValTypVariableOffset=0)
            Block If Then  (Line 18:20)
            End Block
        End Block
        Total Size of Member data including base classes = 0.
    End Block




****** GLOBAL_VARIABLES **********************************************
schedule, Class=Scheduler, Offset=0, SourceClass=LizzardHeater
subscription, Class=Subsriptions, Offset=4, SourceClass=LizzardHeater
heater, Class=Heat, Offset=8, SourceClass=LizzardHeater
TopicRootPath, Class=String, Offset=12, SourceClass=Subsriptions
SubscribeTopicPath, Class=String, Offset=16, SourceClass=Subsriptions
HeatControlTopicPath, Class=String, Offset=20, SourceClass=Subsriptions
HeaterPubTopicPath, Class=String, Offset=24, SourceClass=Subsriptions
SetAutoTopicPath, Class=String, Offset=28, SourceClass=Subsriptions
Number, Class=Integer, Offset=32, IsReadoly, SourceClass=Intrinsic
Data, Class=Integer, Offset=36, IsReadoly, SourceClass=Intrinsic
ProgramCounter, Class=Integer, Offset=40, IsReadoly, SourceClass=Intrinsic
AmbientTemp, Class=Integer, Offset=48, SourceClass=LizzardHeater
CurrentTemp, Class=Integer, Offset=52, SourceClass=LizzardHeater
TargetTemp, Class=Integer, Offset=56, SourceClass=LizzardHeater
AutoControl, Class=Boolean, Offset=44, SourceClass=LizzardHeater
PWMDutyCicle, Class=Integer, Offset=60, SourceClass=Heat
PWMCounter, Class=Integer, Offset=64, SourceClass=Heat
PWMSet, Class=Integer, Offset=68, SourceClass=Heat


****** LITERALS ***********************************************
     1 String "True"
     4 String "False"
     7 String "\r\n"
     9 String "mcThings/beacon/00010F54"
    17 String "/0001107E"
    21 String "/HeatControl"
    26 String "/Auto"
    29 String "/Heater"
    32 String "mcThings/beacon/00010F54/#"
    40 String "mcThings/beacon/00010F54/0001107E"
    50 String "PWMCicle"
    54 String "Auto"
    57 String "Ambient"
    60 String "Target"
    63 String "Current"
    66 String "DateTime"
    70 String "Controls"
    74 String "Temperatures"
